(this.webpackJsonpmcfulness=this.webpackJsonpmcfulness||[]).push([[0],{163:function(e,t){},165:function(e,t){},176:function(e,t){},178:function(e,t){},203:function(e,t){},205:function(e,t){},206:function(e,t){},211:function(e,t){},213:function(e,t){},219:function(e,t){},221:function(e,t){},240:function(e,t){},252:function(e,t){},255:function(e,t){},260:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var i,r,o=n(2),c=n.n(o),a=n(133),s=n.n(a),u=n(142),d=n(36),l=n(7),p=n(43),j=n(44),f=n.p+"static/media/McHeart.baa1962e.png",h=n(5),b=j.a.div(i||(i=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  text-align: center;\n  a {\n    margin: 20px auto;\n    text-decoration: none;\n    text-align: center;\n    color: #635b5b;\n  }\n  img {\n    width: 40%;\n  }\n"]))),x=n(140),m=n(37),v=n.n(m),y=n(75),g=n(138),O=n(139),w=n(143),k=n(141),P=n(28),M={neutral:"\ud83d\ude36",happy:"\ud83d\ude04",sad:"\ud83d\ude1e",angry:"\ud83e\udd2c",fearful:"\ud83d\ude16",disgusted:"\ud83e\udd22",surprised:"\ud83d\ude32"},S=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(g.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).video=c.a.createRef(),e.state={expressions:[]},e.log=function(){var e;(e=console).log.apply(e,arguments)},e.run=Object(y.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.log("run started"),t.prev=1,t.next=4,P.d.tinyFaceDetector.load("/models/");case 4:return t.next=6,P.c("/models/");case 6:return t.next=8,navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});case 8:e.mediaStream=t.sent,e.video.current.srcObject=e.mediaStream,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.log(t.t0.name,t.t0.message,t.t0.stack);case 15:case"end":return t.stop()}}),t,null,[[1,12]])}))),e.onPlay=Object(y.a)(v.a.mark((function t(){var n,i,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.video.current.paused&&!e.video.current.ended&&P.d.tinyFaceDetector.params){t.next=3;break}return setTimeout((function(){return e.onPlay()})),t.abrupt("return");case 3:return n=new P.a({inputSize:512,scoreThreshold:.5}),t.next=6,P.b(e.video.current,n).withFaceExpressions();case 6:(i=t.sent)&&(e.log(i),r=i.expressions.reduce((function(e,t){var n=t.expression,i=t.probability;return e.push(["".concat(M[n]," ").concat(n),i]),e}),[]),e.log(r),e.setState((function(){return{expressions:r}}))),setTimeout((function(){return e.onPlay()}),1e3);case 9:case"end":return t.stop()}}),t)}))),e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.run()}},{key:"render",value:function(){return Object(h.jsx)("div",{style:{display:"flex",minHeight:"100vh",justifyContent:"center"},children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Face Recognition Webcam"}),Object(h.jsx)("div",{children:this.state.expressions.sort((function(e,t){return t[1]-e[1]})).filter((function(e,t){return t<3})).map((function(e,t){var n=Object(x.a)(e,2),i=n[0],r=n[1];return t>0?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("p",{style:{textAlign:"center",fontSize:"40px"},children:i},i+r)}))}),Object(h.jsx)("div",{style:{position:"relative"},children:Object(h.jsx)("video",{ref:this.video,autoPlay:!0,muted:!0,playsInline:!0,onPlay:this.onPlay,style:{position:"absolute",width:"100%",left:0,right:0,bottom:0,top:0}})})]})})}}]),n}(c.a.Component),B=j.a.div(r||(r=Object(p.a)(["\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nmin-height: 100vh;\nmargin: 0px;\nposition: relative;\nbackground-color: #000;\n.video {\n  height: 100%;\n  overflow: hidden;\n}\n.audio {\n  display: none;\n  audio {\n    transform: translateX(-50%);\n  }\n}\nbutton {\n  position: fixed;\n  left: 20px;\n  bottom: 20px;\n  font-size: 30px;\n  opacity: .5;\n}\n"]))),D=[{path:"/",component:function(){return Object(h.jsx)(b,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"McHeart"}),Object(h.jsx)(d.b,{to:"/face",children:Object(h.jsx)("img",{src:f,alt:"logo"})}),Object(h.jsx)("div",{children:Object(h.jsx)(d.b,{to:"/player",children:"Show Player"})})]})})}},{path:"/face",component:S},{path:"/player",component:function(){return Object(h.jsxs)(B,{children:[Object(h.jsx)("div",{className:"video",children:Object(h.jsx)("video",{className:"video-player__viewer","video-player-target":"video","data-action":"click->video-player--video-player#togglePlay timeupdate->video-player--video-player#progressUpdate loadedmetadata->video-player--video-player#setVideoDuration",src:"https://assets.mixkit.co/videos/preview/mixkit-tree-with-yellow-flowers-1173-large.mp4",disablePictureInPicture:!0,autoPlay:!0,playsInline:!0,controls:!1,loop:!0,muted:!0})}),Object(h.jsx)("button",{onClick:function(){return document.getElementById("audio").play()},children:"Play"}),Object(h.jsx)("div",{className:"audio",children:Object(h.jsxs)("audio",{controls:!0,id:"audio",children:[Object(h.jsx)("source",{src:"https://www.mindfulness-network.org/wp-content/uploads/2018/09/Breath-and-the-Body-6-mins-and-30-sec-9MB.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]})})]})}}],F=function(){return Object(h.jsx)(d.a,{children:Object(h.jsx)(l.c,{children:D.map((function(e,t){return Object(h.jsx)(l.a,Object(u.a)({exact:!0},e),t)}))})})},I=function(){return Object(h.jsx)(F,{})};n(259),n(260);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.dc883f6a.chunk.js.map